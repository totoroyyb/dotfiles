#!/bin/bash

if [ -f "$HOME/.envrc" ]; then
  source "$HOME/.envrc"
fi

if [ -f "$HOME/.aliases" ]; then
  source "$HOME/.aliases"
fi

export EDITOR="nvim"
export DIFFTOOL=delta

# pyenv
export PYENV_ROOT="$HOME/.pyenv"
if [ -d $PYENV_ROOT/bin ]; then
  [[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"
  eval "$(pyenv init -)"
  # Load pyenv-virtualenv automatically by adding
  # the following to ~/.bashrc:
  eval "$(pyenv virtualenv-init -)"
fi

if command -v thefuck &>/dev/null; then
  # integration
  eval $(thefuck --alias)
  # You can use whatever you want as an alias, like for Mondays:
  eval $(thefuck --alias fk)
fi

# ---- Zoxide (better cd) ----
eval "$(zoxide init zsh)"
alias cd="z"

# ---- Eza (better ls) -----
alias ls="eza --icons=always"

# iterm2 integration setup
IP=$(ip addr show | grep 'inet ' | grep -v '127.0.0.1' | awk '{print $2}' | cut -d'/' -f1 | head -1)
export iterm2_hostname=$IP
export ITERM2_SQUELCH_MARK=1
